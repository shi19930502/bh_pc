webpackJsonp([11],{"7ydK":function(t,e,a){t.exports=a.p+"static/img/img_dianpu.b1f1386.png"},hBWt:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,i=a("Xxa5"),n=a.n(i),r=a("exGp"),l=a.n(r),o=a("//Fk"),c=a.n(o),d=a("bOdI"),u=a.n(d),h=(a("GXEp"),a("+BTi"),a("mtrD")),p=a.n(h),f=(a("X+ky"),a("HJMx")),g=a.n(f),m=(a("ylrw"),a("6oiW")),v=a.n(m),C=(a("I4nB"),a("STLj")),_=a.n(C),x=(a("cDSy"),a("e0Bm")),y=a.n(x),S=(a("Yq4J"),a("qubY")),b=a.n(S),I=(a("akml"),a("wZaX")),k=a.n(I),P=(a("NYxO"),a("j/0j")),w=a("ruXz"),L=a("1UM6"),B=a("7R5U"),N=a("AG1f"),q=a("EY10"),D=a("VNcD"),T={mixins:[a("vsZy").a],components:(s={},u()(s,P.a.name,P.a),u()(s,w.a.name,w.a),u()(s,N.a.name,N.a),u()(s,q.a.name,q.a),u()(s,B.a.name,B.a),u()(s,k.a.name,k.a),u()(s,b.a.name,b.a),u()(s,L.a.name,L.a),u()(s,y.a.name,y.a),u()(s,_.a.name,_.a),u()(s,v.a.name,v.a),u()(s,D.a.name,D.a),u()(s,g.a.name,g.a),u()(s,p.a.name,p.a),s),data:function(){var t;return t={shopTypeName:"003"==JSON.parse(localStorage.getItem("userInfo")).userType&&"003"==this.type?"配送公司":"批发商店铺",dialogTableVisible:!1,storeInfo:{},pageNum:1,searchLoding:!1,searchVal:""},u()(t,"pageNum",1),u()(t,"pageSize",5),u()(t,"pageTatol",0),u()(t,"customerProperty","001"),u()(t,"stores",[]),u()(t,"channelCode",""),u()(t,"channelList",[]),u()(t,"type","001"),t},watch:{searchVal:"getStoreByChannel"},created:function(){this.$route.query.type&&(this.type=this.$route.query.type),console.log(this.$route.query.userType),this.getStoreByChannel(),this.getChannelList()},mounted:function(){$(document).on("click","#muen-list ul li",function(){$(this).addClass("active").siblings().removeClass("active")})},methods:{queryBySearchVal:function(){this.getStoreByChannel()},getUserAddressInfo:function(){var t=this;return new c.a(function(e,a){t.postRequest("address/queryByCustomerId",{customerId:t.userInfo.typeCode}).then(function(t){t.data&&0==t.data.state&&e(t.data.aaData)})})},getStoreByChannel:function(){var t=this;return l()(n.a.mark(function e(){var a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a={channelCode:t.channelCode,customerProperty:"003"==t.userInfo.userType&&"003"==t.type?"008":t.customerProperty,pageNum:t.pageNum,pageSize:t.pageSize,purchaserId:t.userInfo.typeCode,keyWord:t.searchVal},!t.userInfo){e.next=6;break}return e.next=4,t.getUserAddressInfo();case 4:(s=e.sent)&&(a.latitude=s.latitude,a.longitude=s.longitude);case 6:t.postRequest("store/getStoreByChannel",a).then(function(e){e.data&&0==e.data.state&&e.data.aaData&&(t.stores=e.data.aaData,t.pageTatol=e.data.dataCount)});case 7:case"end":return e.stop()}},e,t)}))()},getSearchProList:function(t){this.keyWord=t,this.gbgoodsId="",this.pageSize=10,this.getSearchProductList()},getSearchProductList:function(){var t=this;this.searchLoding=!0;var e={purchaserId:this.userInfo.typeCode,buyerId:this.userInfo.typeCode,supplierId:this.sellerId||"",gbgoodsid:this.gbgoodsId,keyWord:this.keyWord,pageSize:this.pageSize,pageNum:this.pageNum};this.getisChoiceSupplier().then(function(a){1==a&&delete e.supplierId,t.postRequest("product/getProByQuotationForBH",e).then(function(e){t.searchLoding=!1,e.data&&0==e.data.state&&(t.productList=e.data.aaData,t.$store.dispatch("setProductList_AC",e.data.aaData),t.productDataCount=e.data.dataCount)})})},addShoppingCar:function(t,e,a){var s={productId:t.id,sellerId:this.sellerId,sellerName:this.sellerName,type:e};a&&(s.sellerId=t.customerId,s.sellerName=t.createdPersonName),this.modalEdit(s)},submitShopCar:function(){this.modalClose(),this.dialogTableVisible=!0},toShoppingCar:function(){this.$router.push({name:"shoppingCar"})},closeSuccessModal:function(){this.dialogTableVisible=!1},getSellerId:function(t){var e=this;this.sellerId=t.sellerId,this.getSearchProductList(),this.getStore(this.sellerId,function(t){e.storeInfo=t,$(".buytime").html("采购时间"+t.distributionStart+":00-"+t.distributionEnd+":00")})},handleCurrentChange:function(t){this.pageNum=t,this.getStoreByChannel()},toPersonalBuyStore:function(t){this.$router.push({name:"showProductByStore",query:{sellerId:t,type:this.type}})},query1pProduct:function(){var t=this;this.postRequest("product/query1pProduct",{pageSize:this.pageSize,pageNum:this.pageNum}).then(function(e){t.searchLoding=!1,e.data&&0==e.data.state&&(t.productList=e.data.aaData,t.productDataCount=e.data.dataCount)})},getChannelList:function(){var t=this;this.postRequest("channel/list",{level:3}).then(function(e){e.data&&0==e.data.state&&e.data.aaData&&(t.channelList=e.data.aaData)})},channelChange:function(t){this.channelCode=t,this.pageNum=1,this.getStoreByChannel()}}},V={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"productList1",attrs:{id:"productList"}},[s("shop-header"),t._v(" "),s("shop-search",{attrs:{isStore:!0,showClassify:!1},on:{getSellerId:t.getSellerId,getSearchProList:t.getSearchProList}}),t._v(" "),s("section",{staticClass:"page-title min-width flex flex-x-between flex-y-end"},[s("shop-btn",{attrs:{marginR:"0",text:"003"==t.userInfo.userType&&"003"==t.type?"配送公司":"批发商店铺",height:"45px",width:"228px",bgcolor:"#CD0011",color:"#fff",border:"1px #CD0011"}}),t._v(" "),t._m(0)],1),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"min-width flex flex-x-between"},[s("div",{staticClass:"right",staticStyle:{width:"100%"}},[s("div",{staticClass:"page-num flex flex-y-center flex-x-between"},[s("div",{staticClass:"flex flex-x-between muen-list-bg",attrs:{id:"muen-list"}},[s("ul",{staticClass:"muen-list flex flex-y-center"},[s("li",{staticClass:"active"},[s("span",{on:{click:function(e){t.channelChange("")}}},[t._v("全部店铺")])]),t._v(" "),t._l(t.channelList,function(e){return s("li",[s("span",{on:{click:function(a){t.channelChange(e.code)}}},[t._v(t._s(e.name))])])})],2),t._v(" "),s("div",{staticStyle:{margin:"15px 20px",width:"250px"}},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"搜索店铺",size:"small"},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.queryBySearchVal},slot:"append"})],1)],1)])]),t._v(" "),s("div",{staticClass:"stores"},[t.stores.length>0?s("ul",{staticClass:"store-list"},t._l(t.stores,function(e){return s("li",{staticClass:"flex"},[s("div",{staticClass:"store-info"},[s("div",{staticClass:"flex"},[s("div",{staticClass:"store-img"},[e.f_head_pic_url?s("img",{attrs:{src:t.imgURL+e.f_head_pic_url,alt:""}}):s("img",{attrs:{src:a("7ydK"),alt:""}})]),t._v(" "),s("div",{staticClass:"flex-item-4"},[s("div",{staticClass:"store-name"},[t._v(t._s(e.f_store_name))]),t._v(" "),s("p",{staticClass:"store-mainsell"},[s("span",[t._v("主营：")]),t._v(" "),t._l(e.listCategory,function(a,i){return[i!=e.listCategory.length-1?s("span",[t._v(t._s(a.name+"、"))]):s("span",[t._v(t._s(a.name))])]})],2)])]),t._v(" "),s("div",{staticClass:"store-pingfen"},[s("shop-btn",{attrs:{marginR:"0",text:"信誉评分：5分",height:"22px",width:"118px",bgcolor:"#FF9873",color:"#fff",border:"1px #FF9873",fontsize:"14px"}})],1),t._v(" "),0==e.distatce?s("div",{staticClass:"store-text"},[t._v("距离 -")]):e.distatce>=1e3?s("div",{staticClass:"store-text"},[t._v("距离 "+t._s((e.distatce/1e3).toFixed(1))+"km")]):s("div",{staticClass:"store-text"},[t._v("距离 "+t._s(e.distatce.toFixed(0))+"m")]),t._v(" "),s("div",{staticClass:"store-text"},[t._v("成交 "+t._s(e.dealCount))]),t._v(" "),s("div",{staticClass:"store-address flex flex-y-center"},[s("img",{attrs:{src:a("pCMe"),alt:""}}),t._v(" "),s("span",[t._v("地址："+t._s(e.completeAddress))])])]),t._v(" "),s("div",{staticClass:"store-products"},[e.listProSku.length>0?[s("div",{class:e.listProSku.length>=4?"pro-list flex flex-x-between":"pro-list flex mr15"},t._l(e.listProSku,function(e){return s("div",{staticClass:"pro-item"},[s("div",{staticClass:"pro-img"},[e.skuPicUrl?s("img",{attrs:{src:t.imgURL+e.skuPicUrl,alt:""}}):s("img",{attrs:{src:a("vmrj"),alt:""}}),t._v(" "),1==e.isMuslim?s("div",{staticClass:"muslim"},[s("img",{attrs:{src:a("OMlq"),alt:""}})]):t._e()]),t._v(" "),t.isLogin?[e.promotionPrice>0&&e.promotionBasePrice>0?s("div",{staticClass:"pro-price flex flex-y-center"},[t._v(t._s("￥"+e.promotionPrice))]):s("div",{staticClass:"pro-price flex flex-y-center"},[t._v(t._s("￥"+e.price))])]:[s("div",{staticClass:"pro-price flex flex-y-center"},[t._v("时价")])]],2)}))]:[t._m(1,!0)],t._v(" "),s("div",{staticClass:"btns flex flex-x-center flex-y-center"},[s("div",{staticClass:"tac flex flex-x-center flex-y-center"},[s("img",{staticClass:"icon",attrs:{src:a("4IAI")}}),t._v(" "),s("div",[s("p",[t._v("联系卖家")]),t._v(" "),s("p",[t._v(t._s(e.f_phone_number))])])]),t._v(" "),s("div",{staticStyle:{width:"1px",height:"30px",background:"#fff"}}),t._v(" "),s("div",{staticClass:"tac flex flex-x-center flex-y-center",on:{click:function(a){t.toPersonalBuyStore(e.f_seller_id)}}},[s("img",{staticClass:"icon",attrs:{src:a("1lcp")}}),t._v(" "),s("span",[t._v("进入店铺")])])])],2)])})):s("div",{staticClass:"flex flex-x-center flex-y-center",staticStyle:{height:"444px",color:"#d1d1d1"}},[t._m(2)]),t._v(" "),s("div",{staticClass:"todays-pagination flex flex-x-end"},[s("el-pagination",{attrs:{background:"",small:"",layout:"total,prev, pager, next,jumper",total:t.pageTatol,"page-size":t.pageSize},on:{"current-change":t.handleCurrentChange}})],1)])])])]),t._v(" "),s("shop-footer"),t._v(" "),t.modalShow?s("shopcar-modal",{attrs:{modal:t.modalShow,params:t.modalParams},on:{close:t.modalClose,submitShopCar:t.submitShopCar}}):t._e(),t._v(" "),s("el-dialog",{attrs:{title:"添加成功",visible:t.dialogTableVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[s("shopcar-sumodal",{on:{toShoppingCar:t.toShoppingCar,closeSuccessModal:t.closeSuccessModal}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"flex right"},[e("li",{staticClass:"click-a"},[this._v("用户须知")]),this._v(" "),e("li",{staticClass:"click-a"},[this._v("客户登记")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex flex-x-center flex-y-center",staticStyle:{height:"82%",color:"#d1d1d1"}},[e("div",[e("img",{attrs:{src:a("vmrj")}}),this._v(" "),e("p",{staticClass:"tac"},[this._v("暂无商品")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{attrs:{src:a("vmrj")}}),this._v(" "),e("p",{staticClass:"tac"},[this._v("暂无数据")])])}]};var z=a("VU/8")(T,V,!1,function(t){a("tjqN")},null,null);e.default=z.exports},tjqN:function(t,e){}});
//# sourceMappingURL=11.dfc79465e8be0050b8ab.js.map