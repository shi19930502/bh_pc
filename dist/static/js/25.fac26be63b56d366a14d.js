webpackJsonp([25],{d5As:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=s("bOdI"),r=s.n(i),o=(s("ylrw"),s("+BTi"),s("6oiW")),n=s.n(o),l=(s("I4nB"),s("STLj")),c=s.n(l),d=(s("cDSy"),s("e0Bm")),h=s.n(d),u=(s("Yq4J"),s("qubY")),p=s.n(u),g=(s("akml"),s("wZaX")),f=s.n(g),m=(s("NYxO"),s("j/0j")),v=s("ruXz"),_=s("1UM6"),x=s("7R5U"),C=s("AG1f"),y=s("EY10"),b=s("VNcD"),S={mixins:[s("vsZy").a],components:(a={},r()(a,m.a.name,m.a),r()(a,v.a.name,v.a),r()(a,C.a.name,C.a),r()(a,y.a.name,y.a),r()(a,x.a.name,x.a),r()(a,f.a.name,f.a),r()(a,p.a.name,p.a),r()(a,_.a.name,_.a),r()(a,h.a.name,h.a),r()(a,c.a.name,c.a),r()(a,n.a.name,n.a),r()(a,b.a.name,b.a),a),data:function(){return{dialogTableVisible:!1,storeInfo:{},pageNum:1,searchLoding:!1}},created:function(){this.sellerId=this.$store.getters.selecedSellerInfo.sellerId,this.keyWord=this.$route.query.keyWord,this.$store.state.keyWord=this.keyWord,this.gbgoodsId="",this.pageSize=10,this.getSearchProductList()},mounted:function(){},methods:{getSearchProList:function(t){this.keyWord=t,this.gbgoodsId="",this.pageSize=10,this.getSearchProductList()},getSearchProductList:function(){var t=this;this.searchLoding=!0;var e="product/getProByQuotationForYP";!this.userInfo||"003"!=this.userInfo.userType&&"002"!=this.userInfo.userType&&"004"!=this.userInfo.userType&&"008"!=this.userInfo.userType||(e="product/getProByQuotationForBH");var s={purchaserId:this.userInfo.typeCode,buyerId:this.userInfo.typeCode,supplierId:this.sellerId||"",gbgoodsid:this.gbgoodsId,keyWord:this.keyWord,pageSize:this.pageSize,pageNum:this.pageNum,extend:this.userInfo.userType};this.postRequest(e,s).then(function(e){t.searchLoding=!1,e.data&&0==e.data.state&&(t.productList=e.data.aaData,t.$store.dispatch("setProductList_AC",e.data.aaData),t.productDataCount=e.data.dataCount)})},addShoppingCar:function(t,e,s){var a={productId:t.id,sellerId:this.sellerId,sellerName:this.sellerName,type:e};s&&(a.sellerId=t.customerId,a.sellerName=t.createdPersonName),this.modalEdit(a)},submitShopCar:function(){this.modalClose(),this.dialogTableVisible=!0},toShoppingCar:function(){this.$router.push({name:"shoppingCar"})},closeSuccessModal:function(){this.dialogTableVisible=!1},getSellerId:function(t){var e=this;this.sellerId=t.sellerId,this.getSearchProductList(),this.getStore(this.sellerId,function(t){e.storeInfo=t,$(".buytime").html("采购时间"+t.distributionStart+":00-"+t.distributionEnd+":00")})},handleCurrentChange:function(t){this.pageNum=t,this.getSearchProductList()},toSearch_1p:function(t){var e={type:"001"};t&&(e.type=t),this.$router.push({name:"search_1p",query:e})}}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"productList"}},[a("shop-header"),t._v(" "),a("shop-search",{attrs:{isStore:!0,showClassify:!1},on:{getSellerId:t.getSellerId,getSearchProList:t.getSearchProList}}),t._v(" "),a("section",{staticClass:"page-title min-width flex flex-x-between flex-y-end"},[a("shop-btn",{attrs:{marginR:"0",text:"003"==t.userInfo.userType?"农鲜汇自营平台":"批发中心",height:"45px",width:"228px",bgcolor:"#CD0011",color:"#fff",border:"1px #CD0011"}}),t._v(" "),t._m(0)],1),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"min-width flex flex-x-between"},[a("div",{staticClass:"right",staticStyle:{width:"100%"}},[a("div",{staticClass:"page-num flex flex-y-center flex-x-between"},[a("strong",{staticClass:"title"},[t._v("搜索结果")]),t._v(" "),a("div",{staticClass:"flex flex-y-center"},[a("el-pagination",{attrs:{background:"",small:"",layout:"total,prev, pager, next",total:t.productDataCount},on:{"current-change":t.handleCurrentChange}})],1)]),t._v(" "),t.productList.length>0?a("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.searchLoding,expression:"searchLoding"}],staticClass:"pro-list flex",attrs:{id:"searchList"}},t._l(t.productList,function(e){return a("li",{staticStyle:{height:"316px"}},[a("div",{staticClass:"item"},[a("div",{staticClass:"pro-img"},[e.productPicUrl?a("img",{attrs:{src:t.imgURL+e.productPicUrl}}):a("img",{attrs:{src:s("vmrj")}})]),t._v(" "),a("div",{staticClass:"pro-text"},[a("div",{staticClass:"pro-price flex flex-x-between flex-y-center"},[a("div",{staticClass:"p1"},[e.productMinPrice!=e.productMaxPrice?a("span",[t._v(t._s("￥"+e.productMinPrice+"~"+e.productMaxPrice))]):a("span",[t._v(t._s("￥"+e.price))])]),t._v(" "),1==e.isPomotion?a("div",{staticClass:"flex"},[a("div",{staticClass:"p2"},[t._v(t._s("￥"+e.price))]),t._v(" "),t._m(1,!0)]):t._e()]),t._v(" "),a("div",{staticClass:"pro-name ellipsis"},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"pro-ms ellipsis"},[t._v(t._s(e.remark||"暂无描述"))]),t._v(" "),a("div",{staticClass:"pro-ms ellipsis"},[t._v(t._s(e.createdPersonName))]),t._v(" "),a("div",{staticClass:"pro-btns flex flex-y-center"},[a("div",{staticClass:"scbtn flex-y-center flex-x-center flex",on:{click:function(s){t.addShoppingCar(e,"collection")}}},[a("img",{attrs:{src:s("wWm9"),alt:""}}),t._v(" "),a("span",[t._v("收藏")])]),t._v(" "),a("div",{staticClass:"addcarbtn flex-y-center flex-x-center flex",on:{click:function(s){t.addShoppingCar(e,"search",!0)}}},[a("img",{attrs:{src:s("1ehB"),alt:""}}),t._v(" "),a("span",[t._v("加入购物车")])])])])])])})):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.searchLoding,expression:"searchLoding"}],staticClass:"flex flex-x-center flex-y-center",staticStyle:{height:"500px",color:"#d1d1d1",background:"#fff","margin-bottom":"20px"}},[t._m(2)])])])]),t._v(" "),a("shop-footer"),t._v(" "),t.modalShow?a("shopcar-modal",{attrs:{modal:t.modalShow,params:t.modalParams},on:{close:t.modalClose,submitShopCar:t.submitShopCar}}):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"添加成功",visible:t.dialogTableVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("shopcar-sumodal",{on:{toShoppingCar:t.toShoppingCar,closeSuccessModal:t.closeSuccessModal}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"flex right"},[e("li",{staticClass:"click-a"},[this._v("用户须知")]),this._v(" "),e("li",{staticClass:"click-a"},[this._v("客户登记")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cuxbg flex flex-y-center flex-x-center"},[e("span",[this._v("促销")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{attrs:{src:s("vmrj")}}),this._v(" "),e("p",{staticClass:"tac"},[this._v("暂无商品")])])}]};var L=s("VU/8")(S,I,!1,function(t){s("glBr")},null,null);e.default=L.exports},glBr:function(t,e){}});
//# sourceMappingURL=25.fac26be63b56d366a14d.js.map