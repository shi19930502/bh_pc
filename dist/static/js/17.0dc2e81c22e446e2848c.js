webpackJsonp([17],{U3cM:function(t,a){},jRrD:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r,s=e("BO1k"),i=e.n(s),n=e("bOdI"),o=e.n(n),l=(e("RWjY"),e("+BTi"),e("aMwW")),d=e.n(l),v=(e("8z31"),e("SXzR")),_=e.n(v),c=(e("I4nB"),e("STLj")),p=e.n(c),m=(e("cDSy"),e("e0Bm")),u=e.n(m),h=(e("GXEp"),e("mtrD")),D=e.n(h),g=(e("X+ky"),e("HJMx")),x=e.n(g),f=(e("DSCY"),e("LaeV")),y=e.n(f),C=(e("IxJZ"),e("NoPp")),w=e.n(C),T=(e("Dte2"),e("q4le")),b=e.n(T),S=(e("akml"),e("wZaX")),N=e.n(S),O=(e("isE6"),e("LR6y")),I=e.n(O),k=e("j/0j"),U=e("ruXz"),R=e("VNcD"),j=e("7R5U"),B={mixins:[e("vsZy").a],components:(r={},o()(r,k.a.name,k.a),o()(r,U.a.name,U.a),o()(r,R.a.name,R.a),o()(r,j.a.name,j.a),o()(r,I.a.name,I.a),o()(r,N.a.name,N.a),o()(r,b.a.name,b.a),o()(r,w.a.name,w.a),o()(r,y.a.name,y.a),o()(r,x.a.name,x.a),o()(r,D.a.name,D.a),o()(r,u.a.name,u.a),o()(r,p.a.name,p.a),o()(r,_.a.name,_.a),o()(r,d.a.name,d.a),r),data:function(){return{orderId:"",orderUmber:"",totalPrice:0,orderDetail:{},stepList:[{curStatusName:"新建",changeIndex:"1",optionDate:"",active:!1},{curStatusName:"受理",changeIndex:"2",optionDate:"",active:!1},{curStatusName:"分拣",changeIndex:"3",optionDate:"",active:!1},{curStatusName:"发货",changeIndex:"4",optionDate:"",active:!1},{curStatusName:"收货",changeIndex:"5",optionDate:"",active:!1},{curStatusName:"完成",changeIndex:"6",optionDate:"",active:!1},{curStatusName:"已评价",changeIndex:"7",optionDate:"",active:!1}]}},created:function(){this.orderId=this.$route.query.orderId,this.orderUmber=this.$route.query.orderUmber,this.getOrderDetailById()},mounted:function(){},methods:{getOrderDetailById:function(){var t=this;this.postRequest("order/listByUser",{orderUmber:this.orderUmber,checkType:"buy"}).then(function(a){if(a.data&&0==a.data.state&&a.data.aaData.length>0){var e,r,s;a.data.aaData[0].distributionTimeEnd&&(e=a.data.aaData[0].distributionTimeEnd.split(" ")[0]),a.data.aaData[0].distributionTimeBegin&&(r=a.data.aaData[0].distributionTimeBegin.split(" ")[1]),a.data.aaData[0].distributionTimeEnd&&(s=a.data.aaData[0].distributionTimeEnd.split(" ")[1]);var i=a.data.aaData[0];t.orderDetail=i,t.orderstatuschange(),a.data.aaData[0].distributorId&&t.postRequest("customer/queryById",{id:a.data.aaData[0].distributorId}).then(function(a){a.data.aaData.name&&(i.pssname=a.data.aaData.name,t.orderDetail=i,e&&(t.orderDetail.sdsj=e+" "+r.slice(0,r.length-3)+"~"+s.slice(0,s.length-3)))})}})},orderstatuschange:function(){var t=this;this.postRequest("orderstatuschange/list",{orderNumber:this.orderUmber}).then(function(a){if(a.data&&0==a.data.state&&a.data.aaData.length>0){var e=!0,r=!1,s=void 0;try{for(var n,o=i()(t.stepList);!(e=(n=o.next()).done);e=!0){var l=n.value,d=!0,v=!1,_=void 0;try{for(var c,p=i()(a.data.aaData);!(d=(c=p.next()).done);d=!0){var m=c.value;m.changeIndex==l.changeIndex&&(l.active=!0,l.optionDate=m.optionDate,l.curStatusName=m.curStatusName)}}catch(t){v=!0,_=t}finally{try{!d&&p.return&&p.return()}finally{if(v)throw _}}"已分拣"==l.curStatusName&&(t.orderDetail.fenjianDate=l.optionDate)}}catch(t){r=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(r)throw s}}}})}}},q={render:function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{attrs:{id:"orderDetails"}},[r("shop-header"),t._v(" "),r("shop-search",{attrs:{showClassify:!1,pageName:"订单详情"}}),t._v(" "),r("section",{staticClass:"content"},[r("div",{staticClass:"min-width"},[r("div",{staticClass:"navbar flex flex-y-center"},[r("div",{staticClass:"click-a",on:{click:t.toUserCenter}},[t._v("个人中心")]),t._v(" "),r("div",{staticClass:"arrow-r"}),t._v(" "),r("div",{staticClass:"click-a",on:{click:t.toUserCenter}},[t._v("订单中心")]),t._v(" "),r("div",{staticClass:"arrow-r"}),t._v(" "),r("div",[r("strong",[t._v("订单"+t._s(t.orderUmber))])])]),t._v(" "),r("div",{staticClass:"order-status"},[r("div",{staticClass:"wraper flex flex-y-center"},[r("div",{staticClass:"left"},[r("p",[t._v("订单号："+t._s(t.orderUmber))]),t._v(" "),r("div",{staticClass:"status"},[t._v(t._s(t.orderDetail.orderStatusName))]),t._v(" "),r("div",{staticClass:"flex flex-x-center"},[r("shop-btn",{directives:[{name:"show",rawName:"v-show",value:0==t.orderDetail.orderStatusId,expression:"orderDetail.orderStatusId == 0"}],attrs:{width:"87px",height:"29px",text:"取消订单",marginR:"0",fontsize:"12px"},nativeOn:{click:function(a){t.orderCancel(t.orderDetail.id,t.getOrderDetailById)}}}),t._v(" "),r("shop-btn",{directives:[{name:"show",rawName:"v-show",value:3==t.orderDetail.orderStatusId,expression:"orderDetail.orderStatusId == 3"}],attrs:{width:"87px",height:"29px",text:"确认收货",marginR:"0",fontsize:"12px"},nativeOn:{click:function(a){t.orderCancel(t.orderDetail.id,t.getOrderDetailById,"qrsh",t.orderDetail)}}})],1),t._v(" "),r("div",{staticClass:"paystatus"},[t._v(t._s(t.orderDetail.payStatusName))])]),t._v(" "),r("div",{staticClass:"leftafter"}),t._v(" "),r("div",{staticClass:"right"},[r("p",[t._v("订单"+t._s(t.orderDetail.orderStatusName))]),t._v(" "),r("ul",{staticClass:"flex flex-x-between"},[t._l(t.stepList,function(a,e){return[r("li",{class:a.active?"active":""},[r("div",{staticClass:"point"}),t._v(" "),r("div",{staticClass:"name"},[t._v(t._s(a.curStatusName))]),t._v(" "),r("div",{staticClass:"time"},[r("div",[t._v(t._s(a.optionDate))])]),t._v(" "),e!=t.stepList.length-1?r("div",{staticClass:"jts flex"},t._l(13,function(t){return r("div",{staticClass:"arrow-r"})})):t._e()])]})],2)])])]),t._v(" "),6==t.orderDetail.orderStatusId?r("div",{staticClass:"order-info",staticStyle:{"margin-bottom":"20px"}},[r("div",{staticClass:"item",staticStyle:{border:"none",width:"100%"}},[r("strong",[t._v("拒绝原因")]),t._v(" "),r("p",[t._v(t._s(t.orderDetail.cancelReason))])])]):t._e(),t._v(" "),r("div",{staticClass:"order-info flex flex-x-between"},[r("div",{staticClass:"item"},[r("strong",[t._v("收货人信息")]),t._v(" "),r("p",[r("span",[t._v("收货人："+t._s(t.orderDetail.buyerName))])]),t._v(" "),r("p",[r("span",[t._v("地址："+t._s(t.orderDetail.shippingAdd))])]),t._v(" "),r("p",[r("span",[t._v("电话："+t._s(t.orderDetail.buyerTel))])])]),t._v(" "),r("div",{staticClass:"item"},[r("strong",[t._v("分拣信息")]),t._v(" "),r("p",[r("span",[t._v("分拣商："+t._s(t.orderDetail.sellerName))])]),t._v(" "),r("p",[r("span",[t._v("分拣时间："+t._s(t.orderDetail.fenjianDate||"--"))])])]),t._v(" "),r("div",{staticClass:"item",staticStyle:{"border-right":"none","margin-right":"0"}},[r("strong",[t._v("配送信息")]),t._v(" "),1==t.orderDetail.distributionType?[r("p",[r("span",[t._v("配送地址："+t._s(t.orderDetail.shippingAdd))])]),t._v(" "),r("p",[r("span",[t._v("配送商："+t._s(t.orderDetail.pssname))])]),t._v(" "),r("p",[r("span",[t._v("期望配送时间："+t._s(t.orderDetail.sdsj))])])]:[r("p",[t._v("自提，无需配送")])]],2)]),t._v(" "),r("div",{staticClass:"order-item-info"},[r("strong",[t._v("订单详情")]),t._v(" "),r("div",{staticClass:"item-info"},[r("span",[t._v("卖家信息")]),t._v(" "),r("div",{staticClass:"flex item-text"},[r("p",[r("span",[t._v("卖家名称：")]),t._v(" "),r("span",[t._v(t._s(t.orderDetail.sellerName))])]),t._v(" "),r("p",[r("span",[t._v("联系电话：")]),t._v(" "),r("span",[t._v(t._s(t.orderDetail.sellerTel))])])])]),t._v(" "),r("div",{staticClass:"item-info"},[r("span",[t._v("订单信息")]),t._v(" "),r("div",{staticClass:"flex item-text"},[r("p",[r("span",[t._v("订单号码：")]),t._v(" "),r("span",[t._v(t._s(t.orderDetail.orderUmber))])]),t._v(" "),r("p",[r("span",[t._v("下单时间：")]),t._v(" "),r("span",[t._v(t._s(t.orderDetail.createdDate))])])]),t._v(" "),r("div",{staticClass:"flex item-text"},[r("p",[r("span",[t._v("支付方式：")]),t._v(" "),r("span",[t._v(t._s(t.orderDetail.payWayStatusName))])]),t._v(" "),t.orderDetail.comment?[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.orderDetail.comment,placement:"top"}},[r("p",{staticClass:"ellipsis"},[r("span",[t._v("订单备注：")]),t._v(" "),r("span",[t._v(t._s(t.orderDetail.comment))])])])]:[t._m(0)]],2)]),t._v(" "),r("div",{staticClass:"item-info"},[r("span",[t._v("商品信息")]),t._v(" "),r("table",{staticStyle:{width:"100%"},attrs:{border:"0"}},[t._m(1),t._v(" "),r("tbody",t._l(t.orderDetail.orderitemList,function(a){return r("tr",[r("td",{staticClass:"pro-info flex"},[r("div",{staticClass:"pro-img"},[null!=a.skuPicUrl&&null!=a.productPicUrl?r("img",{attrs:{src:t.imgURL+(""==a.skuPicUrl?a.productPicUrl:a.skuPicUrl)}}):r("img",{attrs:{src:e("vmrj")}})]),t._v(" "),r("div",{staticClass:"pro-name"},[r("p",[t._v(t._s(a.productName))]),t._v(" "),r("p",[t._v(t._s(a.skuName))])])]),t._v(" "),r("td",{attrs:{valign:"top"}},[t._v(t._s(t.orderDetail.payStatusName))]),t._v(" "),r("td",{attrs:{valign:"top"}},[t._v(t._s("￥"+a.price/100))]),t._v(" "),r("td",{attrs:{valign:"top"}},[t._v(t._s(a.quantity+a.skuMeasureName))]),t._v(" "),r("td",{attrs:{valign:"top"}},[t._v(t._s(a.sortingWeight||"--"))]),t._v(" "),r("td",{attrs:{valign:"top"}},[t._v(t._s(a.inspectedWeight||"--"))]),t._v(" "),r("td",{attrs:{valign:"top"}},[t._v(t._s(a.itemTotal?"￥"+a.itemTotal/100:"--"))]),t._v(" "),r("td",{attrs:{valign:"top"}},[t._v(t._s(a.sortingTotal?"￥"+a.sortingTotal/100:"--"))]),t._v(" "),r("td",{attrs:{valign:"top"}},[t._v(t._s(a.inspectedTotal?"￥"+a.inspectedTotal/100:"--"))]),t._v(" "),r("td",{attrs:{valign:"top"}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:a.comment,placement:"top"}},[r("p",{staticClass:"ellipsis",staticStyle:{width:"106px"}},[t._v(t._s(a.comment))])])],1)])}))]),t._v(" "),r("div",{staticClass:"flex flex-x-end"},[r("div",{staticClass:"small-plan"},[r("p",{directives:[{name:"show",rawName:"v-show",value:null==t.orderDetail.sortingOrderTotal||0==t.orderDetail.sortingOrderTotal&&null==t.orderDetail.inspectedOrderTotal,expression:"orderDetail.sortingOrderTotal ==null || orderDetail.sortingOrderTotal == 0 && orderDetail.inspectedOrderTotal ==null"}]},[r("span",[t._v("订单总金额：")]),t._v(" "),r("span",[t._v(t._s("￥"+t.orderDetail.orderTotal/100))])]),t._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:t.orderDetail.sortingOrderTotal>0&&0==t.orderDetail.inspectedOrderTotal,expression:"orderDetail.sortingOrderTotal>0 && orderDetail.inspectedOrderTotal==0"}]},[r("span",[t._v("订单总金额：")]),t._v(" "),r("span",[t._v(t._s("￥"+t.orderDetail.sortingOrderTotal/100))])]),t._v(" "),r("p",{directives:[{name:"show",rawName:"v-show",value:t.orderDetail.inspectedOrderTotal>0,expression:"orderDetail.inspectedOrderTotal>0"}]},[r("span",[t._v("订单总金额：")]),t._v(" "),r("span",{staticStyle:{color:"#F64811"}},[t._v(t._s("￥"+t.orderDetail.inspectedOrderTotal/100))])]),t._v(" "),r("p",[r("span",{staticStyle:{display:"inline-block",width:"72px","text-align":"right"}},[t._v("配送费：")]),t._v(" "),r("span",{staticStyle:{color:"#F64811"}},[t._v(t._s("￥"+t.orderDetail.shippingTotal))])]),t._v(" "),null==t.orderDetail.sortingOrderTotal||0==t.orderDetail.sortingOrderTotal&&null==t.orderDetail.inspectedOrderTotal?r("p",[r("span",{staticStyle:{display:"inline-block",width:"72px","text-align":"right"}},[t._v("总计：")]),t._v(" "),r("span",{staticStyle:{color:"#F64811"}},[t._v(t._s("￥"+(t.orderDetail.orderTotal/100+t.orderDetail.shippingTotal).toFixed(2)))])]):t._e(),t._v(" "),t.orderDetail.sortingOrderTotal>0&&0==t.orderDetail.inspectedOrderTotal?r("p",[r("span",{staticStyle:{display:"inline-block",width:"72px","text-align":"right"}},[t._v("总计：")]),t._v(" "),r("span",{staticStyle:{color:"#F64811"}},[t._v(t._s("￥"+(t.orderDetail.sortingOrderTotal/100+t.orderDetail.shippingTotal).toFixed(2)))])]):t._e(),t._v(" "),t.orderDetail.inspectedOrderTotal>0?r("p",[r("span",{staticStyle:{display:"inline-block",width:"72px","text-align":"right"}},[t._v("总计：")]),t._v(" "),r("span",{staticStyle:{color:"#F64811"}},[t._v(t._s("￥"+(t.orderDetail.inspectedOrderTotal/100+t.orderDetail.shippingTotal).toFixed(2)))])]):t._e()])])])])])]),t._v(" "),r("shop-footer")],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("p",{staticClass:"ellipsis"},[a("span",[this._v("订单备注：")]),this._v(" "),a("span")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",{staticClass:"tbhead"},[e("th",{attrs:{width:"236px"}},[t._v("商品信息")]),t._v(" "),e("th",{attrs:{width:"106px"}},[t._v("交易状态")]),t._v(" "),e("th",{attrs:{width:"106px"}},[t._v("单价(元)")]),t._v(" "),e("th",{attrs:{width:"106px"}},[t._v("订单数量")]),t._v(" "),e("th",{attrs:{width:"106px"}},[t._v("成交数量")]),t._v(" "),e("th",{attrs:{width:"106px"}},[t._v("验收数量")]),t._v(" "),e("th",{attrs:{width:"106px"}},[t._v("订单金额(元)")]),t._v(" "),e("th",{attrs:{width:"106px"}},[t._v("成交金额(元)")]),t._v(" "),e("th",{attrs:{width:"106px"}},[t._v("验收金额(元)")]),t._v(" "),e("th",{attrs:{width:"106px"}},[t._v("备注")])])}]};var E=e("VU/8")(B,q,!1,function(t){e("U3cM")},null,null);a.default=E.exports}});
//# sourceMappingURL=17.0dc2e81c22e446e2848c.js.map