webpackJsonp([13],{H55h:function(e,t){},Wmdu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i,s,r=a("mvHQ"),d=a.n(r),o={data:function(){return{inputValue:"",detaileAddress:"",cityName:"",getAddr:{},mapStyle:{height:"100%"},addStyle:{height:0}}},created:function(){},mounted:function(){var e=this;(n=new AMap.Map("container",{resizeEnable:!0,zoom:20,keyboardEnable:!1})).plugin("AMap.Geolocation",function(){i=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!0,buttonPosition:"RB",useNative:!0}),n.addControl(i),i.getCurrentPosition(),AMap.event.addListener(i,"complete",e.onComplete),AMap.event.addListener(i,"error",e.onError)})},methods:{searchInput:function(){var e=this;this.$nextTick(function(){n.plugin(["AMap.Autocomplete","AMap.PlaceSearch"],function(){var t=new AMap.Autocomplete({input:"keywordId",citylimit:!0,city:e.cityName});s=new AMap.PlaceSearch({map:n,pageSize:5,pageIndex:1,panel:"addrResult"}),AMap.event.addListener(t,"select",e.selectAddr)})})},selectAddr:function(e){var t=this;s.setCity(e.poi.adcode),s.search(e.poi.name,function(e,t){}),AMap.event.addListener(s,"listElementClick",this.placeSearchFun),AMap.event.addListener(s,"markerClick",this.placeSearchFun),this.$nextTick(function(){t.mapStyle={height:"65%"},t.addStyle={height:"35%"}})},placeSearchFun:function(e){this.getAddr=e.data,this.detaileAddress=e.data.name+"，"+e.data.address},btnSpan:function(){window.sessionStorage.setItem("jz_getAddrByMap",d()(this.getAddr)),this.$router.replace({name:"reg",query:{regStep:"2"}})},inputFocus:function(){},onComplete:function(e){this.inputValue="",this.cityName=e.addressComponent.city,this.searchInput()},onError:function(e){this.cityName="全国",this.searchInput()}},beforeDestroy:function(){for(var e=0;e<document.getElementsByClassName("amap-sug-result").length;e++)document.getElementsByClassName("amap-sug-result")[e].setAttribute("style","display:none")}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"selectAddr"}},[a("div",{staticClass:"search_input",attrs:{name:"top"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.inputValue,expression:"inputValue"}],staticClass:"input",attrs:{type:"text",name:"keyword",id:"keywordId",placeholder:"输入关键字选取地点"},domProps:{value:e.inputValue},on:{focus:e.inputFocus,input:function(t){t.target.composing||(e.inputValue=t.target.value)}}}),e._v(" "),a("div",{staticClass:"detaile_address_father"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.detaileAddress,expression:"detaileAddress"}],staticClass:"detaile_address"},[a("span",[e._v("所选地址为："+e._s(e.detaileAddress))]),e._v(" "),a("p",{staticClass:"btn_span"},[a("span",{on:{click:e.btnSpan}},[e._v("确 定")])])])])]),e._v(" "),a("div",{ref:"container",staticClass:"map",style:e.mapStyle,attrs:{id:"container"}}),e._v(" "),a("div",{staticClass:"addr_result",style:e.addStyle,attrs:{name:"bottom",id:"addrResult"}})])},staticRenderFns:[]};var l=a("VU/8")(o,c,!1,function(e){a("H55h")},null,null);t.default=l.exports}});
//# sourceMappingURL=13.ae8e4228ad8ae83bcc28.js.map