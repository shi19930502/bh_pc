{"version":3,"sources":["webpack:///src/views/northviews/SelectAddr.vue","webpack:///./src/views/northviews/SelectAddr.vue?13d0","webpack:///./src/views/northviews/SelectAddr.vue"],"names":["map","geolocation","placeSearch","SelectAddr","data","inputValue","detaileAddress","cityName","getAddr","mapStyle","height","addStyle","created","mounted","vm","this","AMap","Map","resizeEnable","zoom","keyboardEnable","plugin","Geolocation","enableHighAccuracy","timeout","buttonOffset","Pixel","zoomToAccuracy","buttonPosition","useNative","addControl","getCurrentPosition","event","addListener","onComplete","onError","methods","searchInput","$nextTick","auto","Autocomplete","input","citylimit","city","PlaceSearch","pageSize","pageIndex","panel","selectAddr","e","_this","setCity","poi","adcode","search","name","state","result","placeSearchFun","address","btnSpan","window","sessionStorage","setItem","stringify_default","$router","replace","query","regStep","inputFocus","addressComponent","beforeDestroy","a","document","getElementsByClassName","length","setAttribute","northviews_SelectAddr","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","directives","rawName","value","expression","type","placeholder","domProps","on","focus","$event","target","composing","_v","_s","click","ref","style","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.ae8e4228ad8ae83bcc28.js","sourcesContent":["<template>\r\n\t<div id=\"selectAddr\">\r\n\t\t<div name='top' class=\"search_input\">\r\n\t\t\t<input v-model='inputValue' @focus='inputFocus' class=\"input\" type=\"text\" name=\"keyword\" id='keywordId' placeholder=\"输入关键字选取地点\" />\r\n\t\t\t<div class=\"detaile_address_father\">\r\n\t\t\t\t<div class=\"detaile_address\" v-show='detaileAddress'>\r\n\t\t\t\t\t<span>所选地址为：{{detaileAddress}}</span>\r\n\t\t\t\t\t<p class=\"btn_span\">\r\n\t\t\t\t\t\t<span @click='btnSpan'>确&nbsp;定</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"map\" :style='mapStyle' id='container' ref='container'></div>\r\n\t\t<div name='bottom' class=\"addr_result\" :style='addStyle' id=\"addrResult\"></div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\tvar map, geolocation, toolBar, autocomplete, placeSearch;\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tinputValue: '',\r\n\t\t\t\tdetaileAddress: '',\r\n\t\t\t\tcityName: '',\r\n\t\t\t\tgetAddr: {},\r\n\t\t\t\tmapStyle: {\r\n\t\t\t\t\theight: '100%'\r\n\t\t\t\t},\r\n\t\t\t\taddStyle: {\r\n\t\t\t\t\theight: 0\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {},\r\n\t\tmounted() {\r\n\t\t\tvar vm = this\r\n\t\t\tmap = new AMap.Map('container', {\r\n\t\t\t\tresizeEnable: true,\r\n\t\t\t\tzoom: 20,\r\n\t\t\t\tkeyboardEnable: false\r\n\t\t\t});\r\n\t\t\tmap.plugin('AMap.Geolocation', function() {\r\n\t\t\t\tgeolocation = new AMap.Geolocation({\r\n\t\t\t\t\tenableHighAccuracy: true, //是否使用高精度定位，默认:true\r\n\t\t\t\t\ttimeout: 10000, //超过10秒后停止定位，默认：无穷大\r\n\t\t\t\t\tbuttonOffset: new AMap.Pixel(10, 20), //定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)\r\n\t\t\t\t\tzoomToAccuracy: true, //定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false\r\n\t\t\t\t\tbuttonPosition: 'RB',\r\n\t\t\t\t\tuseNative: true,\r\n\t\t\t\t});\r\n\t\t\t\tmap.addControl(geolocation);\r\n\t\t\t\tgeolocation.getCurrentPosition();\r\n\t\t\t\tAMap.event.addListener(geolocation, 'complete', vm.onComplete); //返回定位信息\r\n\t\t\t\tAMap.event.addListener(geolocation, 'error', vm.onError); //返回定位出错信息\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsearchInput() {\r\n\t\t\t\tvar vm = this\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tmap.plugin(['AMap.Autocomplete', 'AMap.PlaceSearch'], function() {\r\n\t\t\t\t\t\tvar auto = new AMap.Autocomplete({\r\n\t\t\t\t\t\t\tinput: 'keywordId',\r\n\t\t\t\t\t\t\tcitylimit: true,\r\n\t\t\t\t\t\t\tcity: vm.cityName\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tplaceSearch = new AMap.PlaceSearch({\r\n\t\t\t\t\t\t\tmap: map,\r\n\t\t\t\t\t\t\tpageSize: 5,\r\n\t\t\t\t\t\t\tpageIndex: 1,\r\n\t\t\t\t\t\t\tpanel: \"addrResult\"\r\n\t\t\t\t\t\t}); //构造地点查询类\r\n\t\t\t\t\t\tAMap.event.addListener(auto, \"select\", vm.selectAddr); //注册监听，当选中某条记录时会触发\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tselectAddr(e) {\r\n\t\t\t\tvar vm = this;\r\n\t\t\t\tplaceSearch.setCity(e.poi.adcode);\r\n\t\t\t\tplaceSearch.search(e.poi.name, function(state, result) {}); //关键字查询查询\r\n\t\t\t\tAMap.event.addListener(placeSearch, 'listElementClick', vm.placeSearchFun);\r\n\t\t\t\tAMap.event.addListener(placeSearch, 'markerClick', vm.placeSearchFun);\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.mapStyle = {\r\n\t\t\t\t\t\theight: '65%'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.addStyle = {\r\n\t\t\t\t\t\theight: '35%'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tplaceSearchFun(e) {\r\n\t\t\t\tthis.getAddr = e.data\r\n\t\t\t\tthis.detaileAddress =\r\n\t\t\t\t\te.data.name + '，' +\r\n\t\t\t\t\te.data.address\r\n\t\t\t},\r\n\t\t\tbtnSpan() {\r\n\t\t\t\tvar vm = this;\r\n\t\t\t\twindow.sessionStorage.setItem('jz_getAddrByMap', JSON.stringify(vm.getAddr))\r\n\t\t\t\tthis.$router.replace({\r\n\t\t\t\t\tname: 'reg',\r\n\t\t\t\t\tquery: {\r\n\t\t\t\t\t\tregStep: '2'\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tinputFocus() {\r\n\r\n\t\t\t},\r\n\t\t\tonComplete(data) {\r\n\t\t\t\tthis.inputValue = ''\r\n\t\t\t\tthis.cityName = data.addressComponent.city\r\n\t\t\t\tthis.searchInput()\r\n\t\t\t},\r\n\t\t\tonError(data) {\r\n\t\t\t\tthis.cityName = '全国'\r\n\t\t\t\tthis.searchInput();\r\n\t\t\t},\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\tfor (let a = 0; a < document.getElementsByClassName('amap-sug-result').length; a++) {\r\n\t\t\t\tdocument.getElementsByClassName('amap-sug-result')[a].setAttribute('style', \"display:none\")\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\thtml,body,#app{\r\n\t\theight: 100%;\r\n\t}\r\n\t#selectAddr {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\r\n\t\t.map {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\toverflow: initial;\r\n\t\t\tposition: relative;\r\n\t\t}\r\n\r\n\t\t.search_input {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50px;\r\n\t\t\twidth: 300px;\r\n\t\t\tright: 5%;\r\n\t\t\tz-index: 999;\r\n\r\n\t\t\t.input {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tborder: 1px solid #666666;\r\n\t\t\t\theight: 30px;\r\n\t\t\t\tborder-radius: 5px;\r\n\t\t\t\tbackground-color: rgba(255, 255, 255, 1);\r\n\t\t\t\ttext-indent: 10px;\r\n\t\t\t\toutline: none;\r\n\t\t\t}\r\n\r\n\t\t\t.detaile_address_father {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: 10px;\r\n\t\t\t\twidth: 290px;\r\n\t\t\t\ttop: 40px;\r\n\r\n\t\t\t\t.btn_span {\r\n\t\t\t\t\tmargin-top: 10px;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-around;\r\n\t\t\t\t\tspan {\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\tpadding: 3px 5px;\r\n\t\t\t\t\t\twidth: 80px;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tborder: 1px solid #00A3FF;\r\n\t\t\t\t\t\tborder-radius: 3px;\r\n\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\tz-index: 9999;\r\n\t\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.detaile_address {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tpadding: 5px;\r\n\t\t\t\tcolor: #000000;\r\n\t\t\t\tbackground: rgba(255, 255, 255, 1);\r\n\t\t\t\tborder-radius: 3px;\r\n\t\t\t\tborder: 1px solid #666666;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.addr_result {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\toverflow: scroll;\r\n\t\t\tposition: relative;\r\n\t\t\tbackground: #fff;\r\n\t\t}\r\n\r\n\t\t.poi-more {\r\n\t\t\tdisplay: none !important;\r\n\t\t}\r\n\t}\r\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/northviews/SelectAddr.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"selectAddr\"}},[_c('div',{staticClass:\"search_input\",attrs:{\"name\":\"top\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],staticClass:\"input\",attrs:{\"type\":\"text\",\"name\":\"keyword\",\"id\":\"keywordId\",\"placeholder\":\"输入关键字选取地点\"},domProps:{\"value\":(_vm.inputValue)},on:{\"focus\":_vm.inputFocus,\"input\":function($event){if($event.target.composing){ return; }_vm.inputValue=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"detaile_address_father\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.detaileAddress),expression:\"detaileAddress\"}],staticClass:\"detaile_address\"},[_c('span',[_vm._v(\"所选地址为：\"+_vm._s(_vm.detaileAddress))]),_vm._v(\" \"),_c('p',{staticClass:\"btn_span\"},[_c('span',{on:{\"click\":_vm.btnSpan}},[_vm._v(\"确 定\")])])])])]),_vm._v(\" \"),_c('div',{ref:\"container\",staticClass:\"map\",style:(_vm.mapStyle),attrs:{\"id\":\"container\"}}),_vm._v(\" \"),_c('div',{staticClass:\"addr_result\",style:(_vm.addStyle),attrs:{\"name\":\"bottom\",\"id\":\"addrResult\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-db099b54\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/northviews/SelectAddr.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-db099b54\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SelectAddr.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SelectAddr.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SelectAddr.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-db099b54\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SelectAddr.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/northviews/SelectAddr.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}